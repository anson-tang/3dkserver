<?xml version="1.0" encoding="utf-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><title>第 4 章 伙伴相关协议</title><link rel="stylesheet" type="text/css" href="docbook.css" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="3DK 通信协议说明文档" /><link rel="up" href="index.html" title="3DK 通信协议说明文档" /><link rel="prev" href="ch03s08.html" title="3.8. VIP礼包购买" /><link rel="next" href="ch04s02.html" title="4.2. 查看伙伴信息" /></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">第 4 章 伙伴相关协议</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="ch03s08.html">上一页</a> </td><th width="60%" align="center"> </th><td width="20%" align="right"> <a accesskey="n" href="ch04s02.html">下一页</a></td></tr></table><hr /></div><div class="chapter"><div class="titlepage"><div><div><h1 class="title"><a id="idp68404192"></a>第 4 章 伙伴相关协议</h1></div></div></div><div class="toc"><p><strong>目录</strong></p><dl class="toc"><dt><span class="section"><a href="ch04.html#idp68387712">4.1. 获取伙伴列表信息</a></span></dt><dt><span class="section"><a href="ch04s02.html">4.2. 查看伙伴信息</a></span></dt><dt><span class="section"><a href="ch04s03.html">4.3. 获取布阵信息</a></span></dt><dt><span class="section"><a href="ch04s04.html">4.4. 玩家布阵</a></span></dt><dt><span class="section"><a href="ch04s05.html">4.5. 玩家指定跟随的伙伴 (功能已删)</a></span></dt><dt><span class="section"><a href="ch04s06.html">4.6. 获取场景内的其他玩家信息 (功能已删)</a></span></dt><dt><span class="section"><a href="ch04s07.html">4.7. 伙伴强化升级</a></span></dt><dt><span class="section"><a href="ch04s08.html">4.8. 玩家或伙伴进阶</a></span></dt><dt><span class="section"><a href="ch04s09.html">4.9. [解救天神] 解除二郎神封印</a></span></dt><dt><span class="section"><a href="ch04s10.html">4.10. [解救天神]  领取二郎神</a></span></dt></dl></div><p>本章定义了所有伙伴相关的通信协议格式。</p><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="idp68387712"></a>4.1. 获取伙伴列表信息</h2></div></div></div><div class="informaltable"><table border="1"><colgroup><col class="1" /><col class="2" /><col class="3" /><col class="4" /><col class="5" /></colgroup><tbody><tr><td>协议名称</td><td colspan="4">获取伙伴列表信息</td></tr><tr><td>呼叫方</td><td>应答方</td><td>函数名</td><td>请求参数说明</td><td>返回值格式说明</td></tr><tr><td>客户端</td><td>网关服务器</td><td>fellow_list</td><td><div class="informaltable"><table border="1"><colgroup><col class="1" /><col class="2" /><col class="3" /></colgroup><tbody><tr><td>参数</td><td>类型</td><td>说明</td></tr><tr><td>index</td><td>int</td><td>获取第index页内容，</td></tr></tbody></table></div></td><td><div class="informaltable"><table border="1"><colgroup><col class="1" /><col class="2" /><col class="3" /></colgroup><tbody><tr><td>参数</td><td>类型</td><td>说明</td></tr><tr><td>result</td><td>uint</td><td>状态。0：获取成功。其它见<a class="link" href="ch29.html#errorlist" title="29.1. 错误代码列表">错误代码列表</a>.</td></tr><tr><td>data</td><td>Array(all, limit, Array(Array(user_fellow_id, fellow_id, level, exp, advanced_level, camp_id, fellow_status), ...))</td><td>伙伴列表信息，具体参数值如下：</td></tr><tr><td>all</td><td>uint</td><td>玩家当前拥有伙伴总数。</td></tr><tr><td>limit</td><td>uint</td><td>玩家可拥有伙伴上限数。</td></tr><tr><td>user_fellow_id</td><td>uint</td><td>玩家伙伴ID, 内部唯一，查询或删除时用。</td></tr><tr><td>fellow_id</td><td>uint</td><td>伙伴ID, 其它参数参见sysconfig['fellow']。</td></tr><tr><td>level</td><td>uint</td><td>伙伴当前等级。</td></tr><tr><td>exp</td><td>uint</td><td>伙伴当前等级下的经验值。</td></tr><tr><td>advanced_level</td><td>uint</td><td>伙伴进阶后的等级。默认为0</td></tr><tr><td>on_troop</td><td>uint</td><td>伙伴是否已上阵。0:未上阵; 1:已上阵</td></tr><tr><td>camp_id</td><td>uint</td><td>伙伴的阵容ID。0:未上阵; 1-6:阵容ID</td></tr></tbody></table></div></td></tr><tr><td>协议说明</td><td colspan="4"> </td></tr></tbody></table></div></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ch03s08.html">上一页</a> </td><td width="20%" align="center"> </td><td width="40%" align="right"> <a accesskey="n" href="ch04s02.html">下一页</a></td></tr><tr><td width="40%" align="left" valign="top">3.8. VIP礼包购买 </td><td width="20%" align="center"><a accesskey="h" href="index.html">起始页</a></td><td width="40%" align="right" valign="top"> 4.2. 查看伙伴信息</td></tr></table></div></body></html>