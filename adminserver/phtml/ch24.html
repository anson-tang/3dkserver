<?xml version="1.0" encoding="utf-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><title>第 24 章 大乱斗相关协议</title><link rel="stylesheet" type="text/css" href="docbook.css" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="3DK 通信协议说明文档" /><link rel="up" href="index.html" title="3DK 通信协议说明文档" /><link rel="prev" href="ch23s03.html" title="23.3. 领取每日单个任务奖励" /><link rel="next" href="ch24s02.html" title="24.2. 刷新对手" /></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">第 24 章 大乱斗相关协议</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="ch23s03.html">上一页</a> </td><th width="60%" align="center"> </th><td width="20%" align="right"> <a accesskey="n" href="ch24s02.html">下一页</a></td></tr></table><hr /></div><div class="chapter"><div class="titlepage"><div><div><h1 class="title"><a id="idp80167008"></a>第 24 章 大乱斗相关协议</h1></div></div></div><div class="toc"><p><strong>目录</strong></p><dl class="toc"><dt><span class="section"><a href="ch24.html#idp80167904">24.1. 获取玩家在大乱斗中的基本信息</a></span></dt><dt><span class="section"><a href="ch24s02.html">24.2. 刷新对手</a></span></dt><dt><span class="section"><a href="ch24s03.html">24.3. 大乱斗战斗结束时请求更新</a></span></dt><dt><span class="section"><a href="ch24s04.html">24.4. 购买挑战次数</a></span></dt><dt><span class="section"><a href="ch24s05.html">24.5. 获取大乱斗排行榜</a></span></dt><dt><span class="section"><a href="ch24s06.html">24.6. 获取仇敌列表</a></span></dt><dt><span class="section"><a href="ch24s07.html">24.7. 对仇敌 复仇</a></span></dt><dt><span class="section"><a href="ch24s08.html">24.8. 获取荣誉兑换中玩家的兑换记录</a></span></dt><dt><span class="section"><a href="ch24s09.html">24.9. 荣誉兑换道具</a></span></dt></dl></div><p>本章定义了所有大乱斗相关的通信协议格式。</p><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="idp80167904"></a>24.1. 获取玩家在大乱斗中的基本信息</h2></div></div></div><p>
    		</p><div class="informaltable"><table border="1"><colgroup><col class="1" /><col class="2" /><col class="3" /><col class="4" /><col class="5" /></colgroup><tbody><tr><td>协议名称</td><td colspan="4">返回玩家在大乱斗中的基本信息。</td></tr><tr><td>呼叫方</td><td>应答方</td><td>函数名</td><td>请求参数说明</td><td>返回值格式说明</td></tr><tr><td>客户端</td><td>网关服务器</td><td>get_joust_info</td><td>
    							<div class="informaltable"><table border="1"><colgroup><col class="1" /><col class="2" /><col class="3" /></colgroup><tbody><tr><td>参数</td><td>类型</td><td>说明</td></tr></tbody></table></div>
    						</td><td>
    							<div class="informaltable"><table border="1"><colgroup><col class="1" /><col class="2" /><col class="3" /></colgroup><tbody><tr><td>参数</td><td>类型</td><td>说明</td></tr><tr><td>result</td><td>uint</td><td>状态。0：获取成功。其它见<a class="link" href="ch29.html#errorlist" title="29.1. 错误代码列表">错误代码列表</a>.</td></tr><tr><td>data</td><td>Array(rank, score, left_count, total_count, had_buy_count, joust_data, joust_status, joust_timestamp)</td><td>玩家在大乱斗中的基本信息。</td></tr><tr><td>rank</td><td>uint。</td><td>玩家在大乱斗中的排名。</td></tr><tr><td>score</td><td>uint.</td><td>玩家在大乱斗中的积分。</td></tr><tr><td>left_count</td><td>uint.</td><td>今日剩余可挑战次数, 含购买的次数。每日0点刷新。</td></tr><tr><td>total_count</td><td>uint.</td><td>今日可免费挑战的最大次数。</td></tr><tr><td>had_buy_count</td><td>uint.</td><td>今日已购买的挑战次数。每日0点刷新。</td></tr><tr><td>joust_data</td><td>Array(Array(cid, lead_id, level, nick_name, might, fellow_ids, alliance_info, socre), ...)</td><td>大乱斗玩家的详情。长度为3。位置依次为上、左、右。</td></tr><tr><td>cid</td><td>uint.</td><td>玩家或机器人的ID。注: 1-10000表示是机器人。</td></tr><tr><td>lead_id</td><td>uint.</td><td>玩家的主角ID或0。注: 0表示是机器人。</td></tr><tr><td>level</td><td>uint.</td><td>玩家或机器人的等级. 如果是机器人, level为多个怪物中任意一个怪物的等级。</td></tr><tr><td>nick_name</td><td>string.</td><td>玩家或机器人的名字。</td></tr><tr><td>might</td><td>uint.</td><td>玩家的战力值。</td></tr><tr><td>fellow_ids</td><td>Array(fellow_id, ...)</td><td>玩家阵容中的伙伴ID列表, 为空。</td></tr><tr><td>alliance_info</td><td>Array(alliance_id, alliance_name).</td><td>玩家的仙盟信息。alliance_id:仙盟ID, alliance_name:仙盟名称。注:机器人时该字段为空。</td></tr><tr><td>score</td><td>uint.</td><td>玩家或机器人的积分。注:机器人的积分一直为1000。</td></tr><tr><td>joust_status</td><td>uint。</td><td>活动状态。0-活动进行中, 1-非活动时间, 2-活动已结束。</td></tr><tr><td>joust_timestamp</td><td>timestamp。</td><td>当joust_status=0时, 此值为活动结束的时间点。当joust_status=1,2时 此值无效。</td></tr></tbody></table></div>
    						</td></tr><tr><td>协议说明</td><td colspan="4"> </td></tr></tbody></table></div><p>
    	</p></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ch23s03.html">上一页</a> </td><td width="20%" align="center"> </td><td width="40%" align="right"> <a accesskey="n" href="ch24s02.html">下一页</a></td></tr><tr><td width="40%" align="left" valign="top">23.3. 领取每日单个任务奖励 </td><td width="20%" align="center"><a accesskey="h" href="index.html">起始页</a></td><td width="40%" align="right" valign="top"> 24.2. 刷新对手</td></tr></table></div></body></html>