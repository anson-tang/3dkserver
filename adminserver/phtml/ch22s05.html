<?xml version="1.0" encoding="utf-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><title>22.5. 魔主死亡活动结算同步</title><link rel="stylesheet" type="text/css" href="docbook.css" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="3DK 通信协议说明文档" /><link rel="up" href="ch22.html" title="第 22 章 魔主回来了相关协议" /><link rel="prev" href="ch22s04.html" title="22.4. 魔主当前伤害数据广播" /><link rel="next" href="ch22s06.html" title="22.6. 攻击魔主" /></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">22.5. 魔主死亡活动结算同步</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="ch22s04.html">上一页</a> </td><th width="60%" align="center">第 22 章 魔主回来了相关协议</th><td width="20%" align="right"> <a accesskey="n" href="ch22s06.html">下一页</a></td></tr></table><hr /></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="idp79960928"></a>22.5. 魔主死亡活动结算同步</h2></div></div></div><p>
			</p><div class="informaltable"><table border="1"><colgroup><col class="1" /><col class="2" /><col class="3" /><col class="4" /><col class="5" /></colgroup><tbody><tr><td>协议名称</td><td colspan="4">魔主死亡活动结算同步</td></tr><tr><td>呼叫方</td><td>应答方</td><td>函数名</td><td>请求参数说明</td><td>返回值格式说明</td></tr><tr><td>网关服务器</td><td>客户端</td><td>sync_damage_report</td><td>
								<div class="informaltable"><table border="1"><colgroup><col class="1" /><col class="2" /><col class="3" /></colgroup><tbody><tr><td>参数</td><td>类型</td><td>说明</td></tr><tr><td>boss_life</td><td>uint</td><td>魔主当前血量，0表示魔主已死，不需要继续战斗。</td></tr><tr><td>attack_report</td><td>Array(final_attacker_name, damage_total, rank, reward_golds, reward_fame, Array(last_kill_golds, last_kill_fame))</td><td>当魔主一旦死亡，同步给所有玩家的活动结算。如果击杀玩家不是当前玩家，最后一个字段为null。</td></tr><tr><td>final_attacker_name</td><td>string</td><td>击杀了魔主的玩家昵称。</td></tr><tr><td>damage_total</td><td>uint</td><td>当前玩家针对魔主的总伤害。</td></tr><tr><td>rank</td><td>uint</td><td>当前玩家的排名。</td></tr><tr><td>reward_golds</td><td>uint</td><td>当前玩家排名奖励金币数。</td></tr><tr><td>reward_farm</td><td>uint</td><td>当前玩家排名奖励声望数。</td></tr><tr><td>last_kill_golds</td><td>uint</td><td>如果击杀玩家为当前玩家, 获得的击杀金币数。</td></tr><tr><td>last_kill_fame</td><td>uint</td><td>如果击杀玩家为当前玩家, 获得的击杀声望数。</td></tr></tbody></table></div>
							</td><td>
								<div class="informaltable"><table border="1"><colgroup><col class="1" /><col class="2" /><col class="3" /></colgroup><tbody><tr><td>参数</td><td>类型</td><td>说明</td></tr></tbody></table></div>
							</td></tr><tr><td>协议说明</td><td colspan="4"> </td></tr></tbody></table></div><p>
		</p></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ch22s04.html">上一页</a> </td><td width="20%" align="center"><a accesskey="u" href="ch22.html">上一级</a></td><td width="40%" align="right"> <a accesskey="n" href="ch22s06.html">下一页</a></td></tr><tr><td width="40%" align="left" valign="top">22.4. 魔主当前伤害数据广播 </td><td width="20%" align="center"><a accesskey="h" href="index.html">起始页</a></td><td width="40%" align="right" valign="top"> 22.6. 攻击魔主</td></tr></table></div></body></html>