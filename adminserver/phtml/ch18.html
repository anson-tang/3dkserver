<?xml version="1.0" encoding="utf-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><title>第 18 章 好友相关协议</title><link rel="stylesheet" type="text/css" href="docbook.css" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="3DK 通信协议说明文档" /><link rel="up" href="index.html" title="3DK 通信协议说明文档" /><link rel="prev" href="ch17s03.html" title="17.3. 处理好友请求邮件" /><link rel="next" href="ch18s02.html" title="18.2. 随机玩家列表" /></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">第 18 章 好友相关协议</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="ch17s03.html">上一页</a> </td><th width="60%" align="center"> </th><td width="20%" align="right"> <a accesskey="n" href="ch18s02.html">下一页</a></td></tr></table><hr /></div><div class="chapter"><div class="titlepage"><div><div><h1 class="title"><a id="idp78830512"></a>第 18 章 好友相关协议</h1></div></div></div><div class="toc"><p><strong>目录</strong></p><dl class="toc"><dt><span class="section"><a href="ch18.html#idp78831408">18.1. 获取好友列表</a></span></dt><dt><span class="section"><a href="ch18s02.html">18.2. 随机玩家列表</a></span></dt><dt><span class="section"><a href="ch18s03.html">18.3. 好友关系查询</a></span></dt><dt><span class="section"><a href="ch18s04.html">18.4. 好友邀请</a></span></dt><dt><span class="section"><a href="ch18s05.html">18.5. 删除好友</a></span></dt><dt><span class="section"><a href="ch18s06.html">18.6. 给好友赠送斗战点</a></span></dt><dt><span class="section"><a href="ch18s07.html">18.7. 获取可领取斗战点的列表</a></span></dt><dt><span class="section"><a href="ch18s08.html">18.8. 领取并回赠斗战点</a></span></dt><dt><span class="section"><a href="ch18s09.html">18.9. 好友留言</a></span></dt></dl></div><p>本章定义了所有好友相关的通信协议格式。</p><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="idp78831408"></a>18.1. 获取好友列表</h2></div></div></div><p>
			</p><div class="informaltable"><table border="1"><colgroup><col class="1" /><col class="2" /><col class="3" /><col class="4" /><col class="5" /></colgroup><tbody><tr><td>协议名称</td><td colspan="4">返回玩家的好友列表, 每页20个玩家, 取第n页时, 同时返回前n-1页的玩家。</td></tr><tr><td>呼叫方</td><td>应答方</td><td>函数名</td><td>请求参数说明</td><td>返回值格式说明</td></tr><tr><td>客户端</td><td>网关服务器</td><td>friend_list</td><td>
								<div class="informaltable"><table border="1"><colgroup><col class="1" /><col class="2" /><col class="3" /></colgroup><tbody><tr><td>参数</td><td>类型</td><td>说明</td></tr><tr><td>index</td><td>uint.</td><td>好友列表的起始下标, 从0开始</td></tr></tbody></table></div>
							</td><td>
								<div class="informaltable"><table border="1"><colgroup><col class="1" /><col class="2" /><col class="3" /></colgroup><tbody><tr><td>参数</td><td>类型</td><td>说明</td></tr><tr><td>result</td><td>uint</td><td>状态。0：获取成功。其它见<a class="link" href="ch29.html#errorlist" title="29.1. 错误代码列表">错误代码列表</a>.</td></tr><tr><td>friend_list</td><td>Array(cur_index, total, Array(friend, ...), total_douzhan_count, left_douzhan_count)</td><td>好友列表详情。</td></tr><tr><td>cur_index</td><td>uint.</td><td>好友列表的起始下标。</td></tr><tr><td>total</td><td>uint.</td><td>玩家已有的好友总数。</td></tr><tr><td>friend</td><td>Array(cid, lead_id, nick_name, level, might, online, status)</td><td>好友列表详情。</td></tr><tr><td>cid</td><td>uint.</td><td>玩家ID。</td></tr><tr><td>lead_id</td><td>uint.</td><td>玩家的主角ID。</td></tr><tr><td>nick_name</td><td>string.</td><td>玩家昵称。</td></tr><tr><td>level</td><td>uint.</td><td>玩家等级。</td></tr><tr><td>might</td><td>uint.</td><td>玩家战力。</td></tr><tr><td>online</td><td>uint.</td><td>玩家是否在线。0-离线, 1-在线</td></tr><tr><td>status</td><td>uint.</td><td>赠送玩家斗战点的状态。0-未赠送, 1-已赠送</td></tr><tr><td>total_douzhan_count</td><td>uint.</td><td>可领取斗战点的总数。</td></tr><tr><td>left_douzhan_count</td><td>uint.</td><td>今日剩余的领取次数。</td></tr></tbody></table></div>
							</td></tr><tr><td>协议说明</td><td colspan="4"> </td></tr></tbody></table></div><p>
		</p></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ch17s03.html">上一页</a> </td><td width="20%" align="center"> </td><td width="40%" align="right"> <a accesskey="n" href="ch18s02.html">下一页</a></td></tr><tr><td width="40%" align="left" valign="top">17.3. 处理好友请求邮件 </td><td width="20%" align="center"><a accesskey="h" href="index.html">起始页</a></td><td width="40%" align="right" valign="top"> 18.2. 随机玩家列表</td></tr></table></div></body></html>