<?xml version="1.0" encoding="utf-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><title>第 14 章 礼包相关协议</title><link rel="stylesheet" type="text/css" href="docbook.css" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="3DK 通信协议说明文档" /><link rel="up" href="index.html" title="3DK 通信协议说明文档" /><link rel="prev" href="ch13s35.html" title="13.35. [活动公告] 获取活动公告的内容" /><link rel="next" href="ch14s02.html" title="14.2. 领取签到礼包" /></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">第 14 章 礼包相关协议</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="ch13s35.html">上一页</a> </td><th width="60%" align="center"> </th><td width="20%" align="right"> <a accesskey="n" href="ch14s02.html">下一页</a></td></tr></table><hr /></div><div class="chapter"><div class="titlepage"><div><div><h1 class="title"><a id="idp77174224"></a>第 14 章 礼包相关协议</h1></div></div></div><div class="toc"><p><strong>目录</strong></p><dl class="toc"><dt><span class="section"><a href="ch14.html#idp78084112">14.1. 获取礼包的领取状态</a></span></dt><dt><span class="section"><a href="ch14s02.html">14.2. 领取签到礼包</a></span></dt><dt><span class="section"><a href="ch14s03.html">14.3. 领取在线礼包</a></span></dt><dt><span class="section"><a href="ch14s04.html">14.4. 领取等级礼包</a></span></dt><dt><span class="section"><a href="ch14s05.html">14.5. 领取开服礼包</a></span></dt><dt><span class="section"><a href="ch14s06.html">14.6. 获取豪华签到礼包的状态</a></span></dt><dt><span class="section"><a href="ch14s07.html">14.7. 领取豪华签到礼包奖励</a></span></dt></dl></div><p>本章定义了所有礼包相关的通信协议格式。</p><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="idp78084112"></a>14.1. 获取礼包的领取状态</h2></div></div></div><div class="informaltable"><table border="1"><colgroup><col class="1" /><col class="2" /><col class="3" /><col class="4" /><col class="5" /></colgroup><tbody><tr><td>协议名称</td><td colspan="4">获取各种礼包奖励的领奖状态。依次为开服礼包、签到礼包、等级礼包、在线礼包的状态。</td></tr><tr><td>呼叫方</td><td>应答方</td><td>函数名</td><td>请求参数说明</td><td>返回值格式说明</td></tr><tr><td>客户端</td><td>网关服务器</td><td>package_status</td><td><div class="informaltable"><table border="1"><colgroup><col class="1" /><col class="2" /><col class="3" /></colgroup><tbody><tr><td>参数</td><td>类型</td><td>说明</td></tr></tbody></table></div></td><td><div class="informaltable"><table border="1"><colgroup><col class="1" /><col class="2" /><col class="3" /></colgroup><tbody><tr><td>result</td><td>uint</td><td>状态。0:获取成功, 后续字段有值，其它见<a class="link" href="ch29.html#errorlist" title="29.1. 错误代码列表">错误代码列表</a>.</td></tr><tr><td>data</td><td>Array(openservice_package, login_package, level_package, online_package)</td><td>已领取的礼包信息。依次为开服礼包、签到礼包、等级礼包、在线礼包的状态。详细参数如下:</td></tr><tr><td>openservice_package</td><td>Array(Array(package_id, ...), next_package_id)</td><td>package_id:已领取的开服礼包的礼包ID。next_package_id:0-无可领取的礼包ID,可领取的最大礼包ID。注:礼包ID为依次递增值。</td></tr><tr><td>login_package</td><td>Array(package_id, next_package_id)</td><td>package_id:0-无已签到的礼包ID,已签到的最大的礼包ID。next_package_id: 0-无可签到的礼包ID,下一个可签到的礼包ID。</td></tr><tr><td>level_package</td><td>Array(level, ...)</td><td>level:已领取的等级礼包的等级。</td></tr><tr><td>online_package</td><td>Array(package_group, package_id, next_reward_timestamp)</td><td>在线礼包的信息。package_group:uint.礼包组ID; package_id:uint.礼包ID; next_reward_timestamp:timestamp.下一次可领取奖励的时间点。</td></tr></tbody></table></div></td></tr><tr><td>协议说明</td><td colspan="4"> </td></tr></tbody></table></div></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ch13s35.html">上一页</a> </td><td width="20%" align="center"> </td><td width="40%" align="right"> <a accesskey="n" href="ch14s02.html">下一页</a></td></tr><tr><td width="40%" align="left" valign="top">13.35. [活动公告] 获取活动公告的内容 </td><td width="20%" align="center"><a accesskey="h" href="index.html">起始页</a></td><td width="40%" align="right" valign="top"> 14.2. 领取签到礼包</td></tr></table></div></body></html>