<chapter>
    <title>背包相关协议</title>
    <para>本章定义了7种背包相关的通信协议格式。</para>

     <section>
         <title>背包扩容</title>
         <para><informaltable>
            <tgroup cols="5">
            <colspec colnum="1" colname="1" />
            <colspec colnum="2" colname="2" />
            <colspec colnum="3" colname="3" />
            <colspec colnum="4" colname="4" />
            <colspec colnum="5" colname="5" />
            <tbody>
                <row>
                    <entry>协议名称</entry><entry namest="2" nameend="5">背包扩容</entry>
                </row>
                <row>
                    <entry>呼叫方</entry>
                    <entry>应答方</entry>
                    <entry>函数名</entry>
                    <entry>请求参数说明</entry>
                    <entry>返回值格式说明</entry>
                </row>
                <row>
                    <entry>客户端</entry>
                    <entry>网关服务器</entry>
                    <entry>expand_bag</entry>
                    <entry><informaltable>
                        <tgroup cols="3">
                            <colspec colnum="1" colname="1" />
                            <colspec colnum="2" colname="2" />
                            <colspec colnum="3" colname="3" />
                            <tbody>
                                <row><entry>参数</entry><entry>类型</entry><entry>说明</entry></row>
                                <row><entry>bag_type</entry><entry>int</entry><entry>背包类型。1:装备背包;2:装备碎片背包;3:伙伴背包;4:分魂背包;5:道具背包;6:宝物背包;7:战魂背包</entry></row>
                            </tbody>
                        </tgroup>
                    </informaltable></entry>
                    <entry><informaltable>
                        <tgroup cols="3">
                            <colspec colnum="1" colname="1" />
                            <colspec colnum="2" colname="2" />
                            <colspec colnum="3" colname="3" />
                            <tbody>
                                <row><entry>参数</entry><entry>类型</entry><entry>说明</entry></row>
                                <row>
                                    <entry>result</entry><entry>uint</entry><entry>状态。0：获取成功。其它见<link linkend="errorlist">错误代码列表</link>.</entry>
                                </row>
                                <row><entry>bag_type</entry><entry>int</entry><entry>背包类型。1:装备背包;2:装备碎片背包;3:伙伴背包;4:分魂背包;5:道具背包;6:宝物背包;7:战魂背包</entry></row>
                                <row><entry>bag_count</entry><entry>int</entry><entry>背包当前格子数量。</entry></row>
                                <row><entry>credits</entry><entry>uint</entry><entry>玩家剩余的点卷数。</entry></row>
                            </tbody>
                        </tgroup>
                    </informaltable></entry>
                </row>
                <row>
                    <entry>协议说明</entry><entry namest="2" nameend="5"></entry>
                </row>
            </tbody>
            </tgroup>
        </informaltable></para>
    </section>

    <section>
        <title>[分魂背包] 获取分魂列表信息</title>
        <para><informaltable>
            <tgroup cols="5">
            <colspec colnum="1" colname="1" />
            <colspec colnum="2" colname="2" />
            <colspec colnum="3" colname="3" />
            <colspec colnum="4" colname="4" />
            <colspec colnum="5" colname="5" />
            <tbody>
                <row>
                    <entry>协议名称</entry><entry namest="2" nameend="5">获取分魂列表信息</entry>
                </row>
                <row>
                    <entry>呼叫方</entry>
                    <entry>应答方</entry>
                    <entry>函数名</entry>
                    <entry>请求参数说明</entry>
                    <entry>返回值格式说明</entry>
                </row>
                <row>
                    <entry>客户端</entry>
                    <entry>网关服务器</entry>
                    <entry>fellowsoul_list</entry>
                    <entry><informaltable>
                        <tgroup cols="3">
                            <colspec colnum="1" colname="1" />
                            <colspec colnum="2" colname="2" />
                            <colspec colnum="3" colname="3" />
                            <tbody>
                                <row><entry>参数</entry><entry>类型</entry><entry>说明</entry></row>
                                <row><entry>index</entry><entry>int</entry><entry>获取第index页内容，从1开始。注 index=0时，表示获取全部内容</entry></row>
                            </tbody>
                        </tgroup>
                    </informaltable></entry>
                    <entry><informaltable>
                        <tgroup cols="3">
                            <colspec colnum="1" colname="1" />
                            <colspec colnum="2" colname="2" />
                            <colspec colnum="3" colname="3" />
                            <tbody>
                                <row><entry>参数</entry><entry>类型</entry><entry>说明</entry></row>
                                <row>
                                    <entry>result</entry><entry>uint</entry><entry>状态。0：获取成功。其它见<link linkend="errorlist">错误代码列表</link>.</entry>
                                </row>
                                <row><entry>data</entry><entry>Array(all, Array(Array(user_fellowsoul_id, fellowsoul_id, quantity), ...))</entry><entry>分魂列表信息，具体参数值如下：</entry></row>
                                <row><entry>all</entry><entry>uint</entry><entry>玩家当前拥有分魂总数。</entry></row>
                                <row><entry>user_fellowsoul_id</entry><entry>uint</entry><entry>玩家分魂ID, 内部唯一，查询或删除时用。</entry></row>
                                <row><entry>fellowsoul_id</entry><entry>uint</entry><entry>分魂ID, 其它参数参见sysconfig['item']。</entry></row>
                                <row><entry>quantity</entry><entry>uint</entry><entry>分魂拥有数量。</entry></row>
                            </tbody>
                        </tgroup>
                    </informaltable></entry>
                </row>
                <row>
                    <entry>协议说明</entry><entry namest="2" nameend="5"></entry>
                </row>
            </tbody>
            </tgroup>
        </informaltable></para>
    </section>

    <section>
        <title>[分魂背包] 分魂合成</title>
        <para><informaltable>
            <tgroup cols="5">
            <colspec colnum="1" colname="1" />
            <colspec colnum="2" colname="2" />
            <colspec colnum="3" colname="3" />
            <colspec colnum="4" colname="4" />
            <colspec colnum="5" colname="5" />
            <tbody>
                <row>
                    <entry>协议名称</entry><entry namest="2" nameend="5">分魂合成</entry>
                </row>
                <row>
                    <entry>呼叫方</entry>
                    <entry>应答方</entry>
                    <entry>函数名</entry>
                    <entry>请求参数说明</entry>
                    <entry>返回值格式说明</entry>
                </row>
                <row>
                    <entry>客户端</entry>
                    <entry>网关服务器</entry>
                    <entry>fellowsoul_combine</entry>
                    <entry><informaltable>
                        <tgroup cols="3">
                            <colspec colnum="1" colname="1" />
                            <colspec colnum="2" colname="2" />
                            <colspec colnum="3" colname="3" />
                            <tbody>
                                <row><entry>参数</entry><entry>类型</entry><entry>说明</entry></row>
                                <row><entry>user_fellowsoul_id</entry><entry>int</entry><entry>要合成的玩家分魂ID</entry></row>
                            </tbody>
                        </tgroup>
                    </informaltable></entry>
                    <entry><informaltable>
                        <tgroup cols="3">
                            <colspec colnum="1" colname="1" />
                            <colspec colnum="2" colname="2" />
                            <colspec colnum="3" colname="3" />
                            <tbody>
                                <row><entry>参数</entry><entry>类型</entry><entry>说明</entry></row>
                                <row>
                                    <entry>result</entry><entry>uint</entry><entry>状态。0：获取成功。其它见<link linkend="errorlist">错误代码列表</link>.</entry>
                                </row>
                                <row><entry>data</entry><entry>Array(user_fellow_id, fellow_id)</entry><entry>合并后的fellow信息</entry></row>
                            </tbody>
                        </tgroup>
                    </informaltable></entry>
                </row>
                <row>
                    <entry>协议说明</entry><entry namest="2" nameend="5"></entry>
                </row>
            </tbody>
            </tgroup>
        </informaltable></para>
    </section>

    <section>
        <title>[道具背包] 获取道具列表信息</title>
        <para><informaltable>
            <tgroup cols="5">
            <colspec colnum="1" colname="1" />
            <colspec colnum="2" colname="2" />
            <colspec colnum="3" colname="3" />
            <colspec colnum="4" colname="4" />
            <colspec colnum="5" colname="5" />
            <tbody>
                <row>
                    <entry>协议名称</entry><entry namest="2" nameend="5">获取道具列表信息</entry>
                </row>
                <row>
                    <entry>呼叫方</entry>
                    <entry>应答方</entry>
                    <entry>函数名</entry>
                    <entry>请求参数说明</entry>
                    <entry>返回值格式说明</entry>
                </row>
                <row>
                    <entry>客户端</entry>
                    <entry>网关服务器</entry>
                    <entry>item_list</entry>
                    <entry><informaltable>
                        <tgroup cols="3">
                            <colspec colnum="1" colname="1" />
                            <colspec colnum="2" colname="2" />
                            <colspec colnum="3" colname="3" />
                            <tbody>
                                <row><entry>参数</entry><entry>类型</entry><entry>说明</entry></row>
                                <row><entry>index</entry><entry>int</entry><entry>获取第index页内容，从1开始。注 index=0时，表示获取全部内容</entry></row>
                            </tbody>
                        </tgroup>
                    </informaltable></entry>
                    <entry><informaltable>
                        <tgroup cols="3">
                            <colspec colnum="1" colname="1" />
                            <colspec colnum="2" colname="2" />
                            <colspec colnum="3" colname="3" />
                            <tbody>
                                <row><entry>参数</entry><entry>类型</entry><entry>说明</entry></row>
                                <row>
                                    <entry>result</entry><entry>uint</entry><entry>状态。0：获取成功。其它见<link linkend="errorlist">错误代码列表</link>.</entry>
                                </row>
                                <row><entry>data</entry><entry>Array(all, limit, Array(Array(user_item_id, item_id, quantity), ...))</entry><entry>分魂列表信息，具体参数值如下：</entry></row>
                                <row><entry>all</entry><entry>uint</entry><entry>玩家当前拥有道具总数。</entry></row>
                                <row><entry>limit</entry><entry>uint</entry><entry>玩家可拥有道具上限数。</entry></row>
                                <row><entry>user_item_id</entry><entry>uint</entry><entry>玩家道具ID, 内部唯一，查询或删除时用。</entry></row>
                                <row><entry>item_id</entry><entry>uint</entry><entry>道具ID, 其它参数参见sysconfig['item']。</entry></row>
                                <row><entry>quantity</entry><entry>uint</entry><entry>道具拥有数量。</entry></row>
                            </tbody>
                        </tgroup>
                    </informaltable></entry>
                </row>
                <row>
                    <entry>协议说明</entry><entry namest="2" nameend="5"></entry>
                </row>
            </tbody>
            </tgroup>
        </informaltable></para>
    </section>

    <section>
        <title>[道具背包] 使用道具</title>
        <para><informaltable>
            <tgroup cols="5">
            <colspec colnum="1" colname="1" />
            <colspec colnum="2" colname="2" />
            <colspec colnum="3" colname="3" />
            <colspec colnum="4" colname="4" />
            <colspec colnum="5" colname="5" />
            <tbody>
                <row>
                    <entry>协议名称</entry><entry namest="2" nameend="5">使用道具</entry>
                </row>
                <row>
                    <entry>呼叫方</entry>
                    <entry>应答方</entry>
                    <entry>函数名</entry>
                    <entry>请求参数说明</entry>
                    <entry>返回值格式说明</entry>
                </row>
                <row>
                    <entry>客户端</entry>
                    <entry>网关服务器</entry>
                    <entry>item_use</entry>
                    <entry><informaltable>
                        <tgroup cols="3">
                            <colspec colnum="1" colname="1" />
                            <colspec colnum="2" colname="2" />
                            <colspec colnum="3" colname="3" />
                            <tbody>
                                <row><entry>参数</entry><entry>类型</entry><entry>说明</entry></row>
                                <row><entry>item_id</entry><entry>int</entry><entry>要使用的道具ID</entry></row>
                                <row><entry>quantity</entry><entry>int</entry><entry>要使用的道具数量</entry></row>
                            </tbody>
                        </tgroup>
                    </informaltable></entry>
                    <entry><informaltable>
                        <tgroup cols="3">
                            <colspec colnum="1" colname="1" />
                            <colspec colnum="2" colname="2" />
                            <colspec colnum="3" colname="3" />
                            <tbody>
                                <row><entry>参数</entry><entry>类型</entry><entry>说明</entry></row>
                                <row>
                                    <entry>result</entry><entry>uint</entry><entry>状态。0：获取成功。其它见<link linkend="errorlist">错误代码列表</link>.</entry>
                                </row>
                                <row><entry>data</entry><entry>Array(left_items, add_items)</entry><entry>玩家的道具信息</entry></row>
                                <row><entry>left_items</entry><entry>Array(Array(user_item_id, item_type, item_id, quatity), ...)</entry><entry>使用道具后玩家剩余的道具信息。</entry></row>
                                <row><entry>user_item_id</entry><entry>uint</entry><entry>玩家道具ID。</entry></row>
                                <row><entry>item_type</entry><entry>uint</entry><entry>道具类型。</entry></row>
                                <row><entry>item_id</entry><entry>uint</entry><entry>道具ID。</entry></row>
                                <row><entry>quantity</entry><entry>uint</entry><entry>道具剩余的数量。为0时需要client从背包中删除此道具</entry></row>
                                <row><entry>add_items</entry><entry>Array(Array(user_item_id, item_type, item_id, quatity), ...)</entry><entry>使用道具后玩家新增的道具信息。</entry></row>
                            </tbody>
                        </tgroup>
                    </informaltable></entry>
                </row>
                <row>
                    <entry>协议说明</entry><entry namest="2" nameend="5"></entry>
                </row>
            </tbody>
            </tgroup>
        </informaltable></para>
    </section>

    <section>
        <title>[宝物背包] 获取宝物列表信息</title>
        <para><informaltable>
            <tgroup cols="5">
            <colspec colnum="1" colname="1" />
            <colspec colnum="2" colname="2" />
            <colspec colnum="3" colname="3" />
            <colspec colnum="4" colname="4" />
            <colspec colnum="5" colname="5" />
            <tbody>
                <row>
                    <entry>协议名称</entry><entry namest="2" nameend="5">获取宝物列表信息</entry>
                </row>
                <row>
                    <entry>呼叫方</entry>
                    <entry>应答方</entry>
                    <entry>函数名</entry>
                    <entry>请求参数说明</entry>
                    <entry>返回值格式说明</entry>
                </row>
                <row>
                    <entry>客户端</entry>
                    <entry>网关服务器</entry>
                    <entry>treasure_list</entry>
                    <entry><informaltable>
                        <tgroup cols="3">
                            <colspec colnum="1" colname="1" />
                            <colspec colnum="2" colname="2" />
                            <colspec colnum="3" colname="3" />
                            <tbody>
                                <row><entry>参数</entry><entry>类型</entry><entry>说明</entry></row>
                                <row><entry>index</entry><entry>int</entry><entry>获取第index页内容，从1开始。注 index=0时，表示获取全部内容</entry></row>
                            </tbody>
                        </tgroup>
                    </informaltable></entry>
                    <entry><informaltable>
                        <tgroup cols="3">
                            <colspec colnum="1" colname="1" />
                            <colspec colnum="2" colname="2" />
                            <colspec colnum="3" colname="3" />
                            <tbody>
                                <row><entry>参数</entry><entry>类型</entry><entry>说明</entry></row>
                                <row>
                                    <entry>result</entry><entry>uint</entry><entry>状态。0：获取成功。其它见<link linkend="errorlist">错误代码列表</link>.</entry>
                                </row>
                                <row><entry>data</entry><entry>Array(all, limit, Array(Array(user_item_id, item_id, level, exp, refine_level, camp_id), ...))</entry><entry>宝物列表信息，具体参数值如下：</entry></row>
                                <row><entry>all</entry><entry>uint</entry><entry>玩家的宝物背包当前拥有宝物总数。</entry></row>
                                <row><entry>limit</entry><entry>uint</entry><entry>玩家的宝物背包可拥有宝物上限数。</entry></row>
                                <row><entry>user_treasure_id</entry><entry>uint</entry><entry>玩家宝物ID, 内部唯一，查询或删除时用。</entry></row>
                                <row><entry>treasure_id</entry><entry>uint</entry><entry>宝物ID, 其它参数参见sysconfig['item']。</entry></row>
                                <row><entry>level</entry><entry>uint</entry><entry>玩家的宝物当前等级。</entry></row>
                                <row><entry>exp</entry><entry>uint</entry><entry>玩家的宝物当前等级下的经验。</entry></row>
                                <row><entry>refine_level</entry><entry>uint</entry><entry>宝物精炼后的等级。初值为0</entry></row>
                                <row><entry>camp_id</entry><entry>uint</entry><entry>宝物当前所属的阵营ID。</entry></row>
                            </tbody>
                        </tgroup>
                    </informaltable></entry>
                </row>
                <row>
                    <entry>协议说明</entry><entry namest="2" nameend="5"></entry>
                </row>
            </tbody>
            </tgroup>
        </informaltable></para>
    </section>

    <section>
        <title>[宝物背包] 强化宝物</title>
        <para><informaltable>
            <tgroup cols="5">
            <colspec colnum="1" colname="1" />
            <colspec colnum="2" colname="2" />
            <colspec colnum="3" colname="3" />
            <colspec colnum="4" colname="4" />
            <colspec colnum="5" colname="5" />
            <tbody>
                <row>
                    <entry>协议名称</entry><entry namest="2" nameend="5">强化宝物</entry>
                </row>
                <row>
                    <entry>呼叫方</entry>
                    <entry>应答方</entry>
                    <entry>函数名</entry>
                    <entry>请求参数说明</entry>
                    <entry>返回值格式说明</entry>
                </row>
                <row>
                    <entry>客户端</entry>
                    <entry>网关服务器</entry>
                    <entry>treasure_strengthen</entry>
                    <entry><informaltable>
                        <tgroup cols="3">
                            <colspec colnum="1" colname="1" />
                            <colspec colnum="2" colname="2" />
                            <colspec colnum="3" colname="3" />
                            <tbody>
                                <row><entry>参数</entry><entry>类型</entry><entry>说明</entry></row>
                                <row><entry>user_treasure_id</entry><entry>uint</entry><entry>玩家宝物ID, 内部唯一，查询或删除时用。</entry></row>
                                <row><entry>treasures_data</entry><entry>Array(user_treasure_id, ...)</entry><entry>用于宝物强化的其它宝物。</entry></row>
                            </tbody>
                        </tgroup>
                    </informaltable></entry>
                    <entry><informaltable>
                        <tgroup cols="3">
                            <colspec colnum="1" colname="1" />
                            <colspec colnum="2" colname="2" />
                            <colspec colnum="3" colname="3" />
                            <tbody>
                                <row><entry>参数</entry><entry>类型</entry><entry>说明</entry></row>
                                <row><entry>result</entry><entry>uint</entry><entry>状态。0：获取成功。其它见<link linkend="errorlist">错误代码列表</link>.</entry></row>
                                <row><entry>data</entry><entry>Array(user_treasure_id, treasure_id, level, exp, golds)</entry><entry>宝物强化后的信息，具体参数值如下：</entry></row>
                                <row><entry>user_treasure_id</entry><entry>uint</entry><entry>玩家宝物ID, 内部唯一，查询或删除时用。</entry></row>
                                <row><entry>treasure_id</entry><entry>uint</entry><entry>宝物ID,即道具ID。 其它参数参见sysconfig['item']。</entry></row>
                                <row><entry>level</entry><entry>uint</entry><entry>宝物强化后的等级。</entry></row>
                                <row><entry>exp</entry><entry>uint</entry><entry>宝物当前等级下的经验值。</entry></row>
                                <row><entry>golds</entry><entry>uint</entry><entry>玩家剩余的金币。</entry></row>
                            </tbody>
                        </tgroup>
                    </informaltable></entry>
                </row>
                <row>
                    <entry>协议说明</entry><entry namest="2" nameend="5"></entry>
                </row>
            </tbody>
            </tgroup>
        </informaltable></para>
    </section>

    <section>
        <title>[宝物背包] 精炼宝物</title>
        <para><informaltable>
            <tgroup cols="5">
            <colspec colnum="1" colname="1" />
            <colspec colnum="2" colname="2" />
            <colspec colnum="3" colname="3" />
            <colspec colnum="4" colname="4" />
            <colspec colnum="5" colname="5" />
            <tbody>
                <row>
                    <entry>协议名称</entry><entry namest="2" nameend="5">精炼宝物</entry>
                </row>
                <row>
                    <entry>呼叫方</entry>
                    <entry>应答方</entry>
                    <entry>函数名</entry>
                    <entry>请求参数说明</entry>
                    <entry>返回值格式说明</entry>
                </row>
                <row>
                    <entry>客户端</entry>
                    <entry>网关服务器</entry>
                    <entry>treasure_refine</entry>
                    <entry><informaltable>
                        <tgroup cols="3">
                            <colspec colnum="1" colname="1" />
                            <colspec colnum="2" colname="2" />
                            <colspec colnum="3" colname="3" />
                            <tbody>
                                <row><entry>参数</entry><entry>类型</entry><entry>说明</entry></row>
                                <row><entry>user_treasure_id</entry><entry>uint</entry><entry>玩家宝物ID, 内部唯一，查询或删除时用。</entry></row>
                            </tbody>
                        </tgroup>
                    </informaltable></entry>
                    <entry><informaltable>
                        <tgroup cols="3">
                            <colspec colnum="1" colname="1" />
                            <colspec colnum="2" colname="2" />
                            <colspec colnum="3" colname="3" />
                            <tbody>
                                <row><entry>参数</entry><entry>类型</entry><entry>说明</entry></row>
                                <row><entry>result</entry><entry>uint</entry><entry>状态。0：获取成功。其它见<link linkend="errorlist">错误代码列表</link>.</entry></row>
                                <row><entry>data</entry><entry>Array(user_treasure_id, treasure_id, refine_level, golds, used_items, left_items)</entry><entry>伙伴列表信息，具体参数值如下：</entry></row>
                                <row><entry>user_treasure_id</entry><entry>uint</entry><entry>玩家宝物ID, 内部唯一，查询或删除时用。</entry></row>
                                <row><entry>treasure_id</entry><entry>uint</entry><entry>宝物ID,即道具ID。 其它参数参见sysconfig['item']。</entry></row>
                                <row><entry>refine_level</entry><entry>uint</entry><entry>宝物当前的精炼等级。初值为0</entry></row>
                                <row><entry>golds</entry><entry>uint</entry><entry>玩家当前拥有的金币数。</entry></row>
                                <row><entry>used_items</entry><entry>Array(user_treasure_id, ...)</entry><entry>精炼消耗的玩家的宝物信息。</entry></row>
                                <row><entry>left_items</entry><entry>Array(Array(user_item_id, item_type, item_id, item_num), ...)</entry><entry>精炼消耗的玩家的道具信息。用于client维护背包。</entry></row>
                            </tbody>
                        </tgroup>
                    </informaltable></entry>
                </row>
                <row>
                    <entry>协议说明</entry><entry namest="2" nameend="5"></entry>
                </row>
            </tbody>
            </tgroup>
        </informaltable></para>
    </section>

    <section>
        <title>[宝物碎片背包] 获取宝物碎片列表信息 (已过期)</title>
        <para><informaltable>
            <tgroup cols="5">
            <colspec colnum="1" colname="1" />
            <colspec colnum="2" colname="2" />
            <colspec colnum="3" colname="3" />
            <colspec colnum="4" colname="4" />
            <colspec colnum="5" colname="5" />
            <tbody>
                <row>
                    <entry>协议名称</entry><entry namest="2" nameend="5">获取宝物碎片列表信息</entry>
                </row>
                <row>
                    <entry>呼叫方</entry>
                    <entry>应答方</entry>
                    <entry>函数名</entry>
                    <entry>请求参数说明</entry>
                    <entry>返回值格式说明</entry>
                </row>
                <row>
                    <entry>客户端</entry>
                    <entry>网关服务器</entry>
                    <entry>treasureshard_list</entry>
                    <entry><informaltable>
                        <tgroup cols="3">
                            <colspec colnum="1" colname="1" />
                            <colspec colnum="2" colname="2" />
                            <colspec colnum="3" colname="3" />
                            <tbody>
                                <row><entry>参数</entry><entry>类型</entry><entry>说明</entry></row>
                                <row><entry>index</entry><entry>int</entry><entry>获取第index页内容，从1开始。注 index=0时，表示获取全部内容</entry></row>
                            </tbody>
                        </tgroup>
                    </informaltable></entry>
                    <entry><informaltable>
                        <tgroup cols="3">
                            <colspec colnum="1" colname="1" />
                            <colspec colnum="2" colname="2" />
                            <colspec colnum="3" colname="3" />
                            <tbody>
                                <row><entry>参数</entry><entry>类型</entry><entry>说明</entry></row>
                                <row>
                                    <entry>result</entry><entry>uint</entry><entry>状态。0：获取成功。其它见<link linkend="errorlist">错误代码列表</link>.</entry>
                                </row>
                                <row><entry>data</entry><entry>Array(all, limit, Array(Array(user_treasureshard_id, treasureshard_id, quantity), ...))</entry><entry>宝物碎片列表信息，具体参数值如下：</entry></row>
                                <row><entry>all</entry><entry>uint</entry><entry>玩家当前拥有宝物碎片总数。</entry></row>
                                <row><entry>limit</entry><entry>uint</entry><entry>玩家的背包可拥有宝物碎片上限数。</entry></row>
                                <row><entry>user_treasureshard_id</entry><entry>uint</entry><entry>玩家宝物碎片ID, 内部唯一，查询或删除时用。</entry></row>
                                <row><entry>treasureshard_id</entry><entry>uint</entry><entry>宝物碎片ID, 其它参数参见sysconfig['item']。</entry></row>
                                <row><entry>quantity</entry><entry>uint</entry><entry>拥有宝物碎片数量。</entry></row>
                            </tbody>
                        </tgroup>
                    </informaltable></entry>
                </row>
                <row>
                    <entry>协议说明</entry><entry namest="2" nameend="5"></entry>
                </row>
            </tbody>
            </tgroup>
        </informaltable></para>
    </section>

    <section>
        <title>[宝物碎片背包] 宝物碎片合成</title>
        <para><informaltable>
            <tgroup cols="5">
            <colspec colnum="1" colname="1" />
            <colspec colnum="2" colname="2" />
            <colspec colnum="3" colname="3" />
            <colspec colnum="4" colname="4" />
            <colspec colnum="5" colname="5" />
            <tbody>
                <row>
                    <entry>协议名称</entry><entry namest="2" nameend="5">宝物碎片合成</entry>
                </row>
                <row>
                    <entry>呼叫方</entry>
                    <entry>应答方</entry>
                    <entry>函数名</entry>
                    <entry>请求参数说明</entry>
                    <entry>返回值格式说明</entry>
                </row>
                <row>
                    <entry>客户端</entry>
                    <entry>网关服务器</entry>
                    <entry>treasureshard_combine</entry>
                    <entry><informaltable>
                        <tgroup cols="3">
                            <colspec colnum="1" colname="1" />
                            <colspec colnum="2" colname="2" />
                            <colspec colnum="3" colname="3" />
                            <tbody>
                                <row><entry>参数</entry><entry>类型</entry><entry>说明</entry></row>
                                <row><entry>user_treasureshard_ids</entry><entry>Array</entry><entry>要合成的玩家宝物碎片ID列表。</entry></row>
                            </tbody>
                        </tgroup>
                    </informaltable></entry>
                    <entry><informaltable>
                        <tgroup cols="3">
                            <colspec colnum="1" colname="1" />
                            <colspec colnum="2" colname="2" />
                            <colspec colnum="3" colname="3" />
                            <tbody>
                                <row><entry>参数</entry><entry>类型</entry><entry>说明</entry></row>
                                <row>
                                    <entry>result</entry><entry>uint</entry><entry>状态。0：获取成功。其它见<link linkend="errorlist">错误代码列表</link>.</entry>
                                </row>
                                <row><entry>data</entry><entry>Array(user_treasure_id, treasure_id)</entry><entry>合并后的treasure信息</entry></row>
                            </tbody>
                        </tgroup>
                    </informaltable></entry>
                </row>
                <row>
                    <entry>协议说明</entry><entry namest="2" nameend="5"></entry>
                </row>
            </tbody>
            </tgroup>
        </informaltable></para>
    </section>

    <section>
        <title>[装备背包] 获取装备列表信息</title>
        <para><informaltable>
            <tgroup cols="5">
            <colspec colnum="1" colname="1" />
            <colspec colnum="2" colname="2" />
            <colspec colnum="3" colname="3" />
            <colspec colnum="4" colname="4" />
            <colspec colnum="5" colname="5" />
            <tbody>
                <row>
                    <entry>协议名称</entry><entry namest="2" nameend="5">获取装备列表信息</entry>
                </row>
                <row>
                    <entry>呼叫方</entry>
                    <entry>应答方</entry>
                    <entry>函数名</entry>
                    <entry>请求参数说明</entry>
                    <entry>返回值格式说明</entry>
                </row>
                <row>
                    <entry>客户端</entry>
                    <entry>网关服务器</entry>
                    <entry>equip_list</entry>
                    <entry><informaltable>
                        <tgroup cols="3">
                            <colspec colnum="1" colname="1" />
                            <colspec colnum="2" colname="2" />
                            <colspec colnum="3" colname="3" />
                            <tbody>
                                <row><entry>参数</entry><entry>类型</entry><entry>说明</entry></row>
                                <row><entry>index</entry><entry>int</entry><entry>获取第index页内容，从1开始。注 index=0时，表示获取全部内容</entry></row>
                            </tbody>
                        </tgroup>
                    </informaltable></entry>
                    <entry><informaltable>
                        <tgroup cols="3">
                            <colspec colnum="1" colname="1" />
                            <colspec colnum="2" colname="2" />
                            <colspec colnum="3" colname="3" />
                            <tbody>
                                <row><entry>参数</entry><entry>类型</entry><entry>说明</entry></row>
                                <row>
                                    <entry>result</entry><entry>uint</entry><entry>状态。0：获取成功。其它见<link linkend="errorlist">错误代码列表</link>.</entry>
                                </row>
                                <row><entry>data</entry><entry>Array(all, limit, Array(Array(user_equip_id, equip_id, level, refine_attribute, refine_cost, camp_id, strengthen_cost), ...))</entry><entry>装备列表信息，具体参数值如下：</entry></row>
                                <row><entry>all</entry><entry>uint</entry><entry>玩家当前拥有装备总数。</entry></row>
                                <row><entry>limit</entry><entry>uint</entry><entry>玩家的背包可拥有装备上限数。</entry></row>
                                <row><entry>user_equip_id</entry><entry>uint</entry><entry>玩家装备ID, 内部唯一，查询或删除时用。</entry></row>
                                <row><entry>equip_id</entry><entry>uint</entry><entry>装备ID, 其它参数参见sysconfig['item']。</entry></row>
                                <row><entry>level</entry><entry>uint</entry><entry>装备当前等级。</entry></row>
                                <row><entry>refine_attribute</entry><entry>Array(Array(attribute_id, attribute_value, max_value), ...)</entry><entry>装备洗练后的当前属性。注:attribute_id在sysconfig['attribute_list'], 属性列表数值中。</entry></row>
                                <row><entry>refine_cost</entry><entry>uint</entry><entry>装备洗炼消耗的洗炼石数量。</entry></row>
                                <row><entry>camp_id</entry><entry>uint</entry><entry>装备当前所属的阵营ID。</entry></row>
                                <row><entry>strengthen_cost</entry><entry>uint</entry><entry>装备当前强化消耗的总金币数。</entry></row>
                            </tbody>
                        </tgroup>
                    </informaltable></entry>
                </row>
                <row>
                    <entry>协议说明</entry><entry namest="2" nameend="5"></entry>
                </row>
            </tbody>
            </tgroup>
        </informaltable></para>
    </section>

    <section>
        <title>[装备背包] 强化装备</title>
        <para><informaltable>
            <tgroup cols="5">
            <colspec colnum="1" colname="1" />
            <colspec colnum="2" colname="2" />
            <colspec colnum="3" colname="3" />
            <colspec colnum="4" colname="4" />
            <colspec colnum="5" colname="5" />
            <tbody>
                <row>
                    <entry>协议名称</entry><entry namest="2" nameend="5">强化装备</entry>
                </row>
                <row>
                    <entry>呼叫方</entry>
                    <entry>应答方</entry>
                    <entry>函数名</entry>
                    <entry>请求参数说明</entry>
                    <entry>返回值格式说明</entry>
                </row>
                <row>
                    <entry>客户端</entry>
                    <entry>网关服务器</entry>
                    <entry>equip_strengthen</entry>
                    <entry><informaltable>
                        <tgroup cols="3">
                            <colspec colnum="1" colname="1" />
                            <colspec colnum="2" colname="2" />
                            <colspec colnum="3" colname="3" />
                            <tbody>
                                <row><entry>参数</entry><entry>类型</entry><entry>说明</entry></row>
                                <row><entry>user_equip_id</entry><entry>uint</entry><entry>玩家装备ID, 内部唯一，查询或删除时用。</entry></row>
                                <row><entry>strengthen_type</entry><entry>uint</entry><entry>装备强化类型。1:普通强化；2:自动强化。</entry></row>
                            </tbody>
                        </tgroup>
                    </informaltable></entry>
                    <entry><informaltable>
                        <tgroup cols="3">
                            <colspec colnum="1" colname="1" />
                            <colspec colnum="2" colname="2" />
                            <colspec colnum="3" colname="3" />
                            <tbody>
                                <row><entry>参数</entry><entry>类型</entry><entry>说明</entry></row>
                                <row>
                                    <entry>result</entry><entry>uint</entry><entry>状态。0：获取成功。其它见<link linkend="errorlist">错误代码列表</link>.</entry>
                                </row>
                                <row><entry>data</entry><entry>Array(user_equip_id, equip_id, level, golds, crit_level, strengthen_count, crit_count, strengthen_cost)</entry><entry>强化装备后的信息，具体参数值如下：</entry></row>
                                <row><entry>user_equip_id</entry><entry>uint</entry><entry>玩家装备ID, 内部唯一，查询或删除时用。</entry></row>
                                <row><entry>equip_id</entry><entry>uint</entry><entry>装备ID, 其它参数参见sysconfig['item']。</entry></row>
                                <row><entry>level</entry><entry>uint</entry><entry>装备当前等级。</entry></row>
                                <row><entry>golds</entry><entry>uint</entry><entry>玩家当前拥有的金币。</entry></row>
                                <row><entry>crit_level</entry><entry>uint</entry><entry>单次强化暴击提升了几级。</entry></row>
                                <row><entry>strengthen_count</entry><entry>uint</entry><entry>自动强化的次数。</entry></row>
                                <row><entry>crit_count</entry><entry>uint</entry><entry>自动强化暴击的次数。</entry></row>
                                <row><entry>strengthen_cost</entry><entry>uint</entry><entry>装备当前强化消耗的总金币数。</entry></row>
                            </tbody>
                        </tgroup>
                    </informaltable></entry>
                </row>
                <row>
                    <entry>协议说明</entry><entry namest="2" nameend="5"></entry>
                </row>
            </tbody>
            </tgroup>
        </informaltable></para>
    </section>

    <section>
        <title>[装备背包] 洗炼装备</title>
        <para><informaltable>
            <tgroup cols="5">
            <colspec colnum="1" colname="1" />
            <colspec colnum="2" colname="2" />
            <colspec colnum="3" colname="3" />
            <colspec colnum="4" colname="4" />
            <colspec colnum="5" colname="5" />
            <tbody>
                <row>
                    <entry>协议名称</entry><entry namest="2" nameend="5">洗炼装备</entry>
                </row>
                <row>
                    <entry>呼叫方</entry>
                    <entry>应答方</entry>
                    <entry>函数名</entry>
                    <entry>请求参数说明</entry>
                    <entry>返回值格式说明</entry>
                </row>
                <row>
                    <entry>客户端</entry>
                    <entry>网关服务器</entry>
                    <entry>equip_refine</entry>
                    <entry><informaltable>
                        <tgroup cols="3">
                            <colspec colnum="1" colname="1" />
                            <colspec colnum="2" colname="2" />
                            <colspec colnum="3" colname="3" />
                            <tbody>
                                <row><entry>参数</entry><entry>类型</entry><entry>说明</entry></row>
                                <row><entry>user_equip_id</entry><entry>uint</entry><entry>玩家装备ID, 内部唯一，查询或删除时用。</entry></row>
                                <row><entry>refine_type</entry><entry>uint</entry><entry>装备洗炼类型。1:普通洗炼；2:金币洗炼；3:高级洗炼。</entry></row>
                                <row><entry>refine_times</entry><entry>uint</entry><entry>装备洗炼次数。</entry></row>
                            </tbody>
                        </tgroup>
                    </informaltable></entry>
                    <entry><informaltable>
                        <tgroup cols="3">
                            <colspec colnum="1" colname="1" />
                            <colspec colnum="2" colname="2" />
                            <colspec colnum="3" colname="3" />
                            <tbody>
                                <row><entry>参数</entry><entry>类型</entry><entry>说明</entry></row>
                                <row>
                                    <entry>result</entry><entry>uint</entry><entry>状态。0：获取成功。其它见<link linkend="errorlist">错误代码列表</link>.</entry>
                                </row>
                                <row><entry>data</entry><entry>Array(user_equip_id, equip_id, refine_attribute, items, golds, credits)</entry><entry>洗炼装备后的信息，具体参数值如下：</entry></row>
                                <row><entry>user_equip_id</entry><entry>uint</entry><entry>玩家装备ID, 内部唯一，查询或删除时用。</entry></row>
                                <row><entry>equip_id</entry><entry>uint</entry><entry>装备ID, 其它参数参见sysconfig['item']。</entry></row>
                                <row><entry>refine_attribute</entry><entry>Array(Array(attribute_id, refine_value, max_value), ...)</entry><entry>装备洗练后的属性和洗炼值。注:attribute_id在sysconfig['attribute_list'], 属性列表数值中。</entry></row>
                                <row><entry>left_items</entry><entry>Array(Array(user_item_id, item_type, item_id, quatity), ...)</entry><entry>洗炼后玩家的道具信息。</entry></row>
                                <row><entry>user_item_id</entry><entry>uint</entry><entry>玩家道具ID。</entry></row>
                                <row><entry>item_type</entry><entry>uint</entry><entry>道具类型。</entry></row>
                                <row><entry>item_id</entry><entry>uint</entry><entry>道具ID。</entry></row>
                                <row><entry>quantity</entry><entry>uint</entry><entry>玩家剩余的道具数量。</entry></row>
                                <row><entry>golds</entry><entry>uint</entry><entry>玩家剩余的金币数。</entry></row>
                                <row><entry>credits</entry><entry>uint</entry><entry>玩家剩余的点卷数。</entry></row>
                            </tbody>
                        </tgroup>
                    </informaltable></entry>
                </row>
                <row>
                    <entry>协议说明</entry><entry namest="2" nameend="5"></entry>
                </row>
            </tbody>
            </tgroup>
        </informaltable></para>
    </section>

    <section>
        <title>[装备背包] 替换洗炼装备后的属性</title>
        <para><informaltable>
            <tgroup cols="5">
            <colspec colnum="1" colname="1" />
            <colspec colnum="2" colname="2" />
            <colspec colnum="3" colname="3" />
            <colspec colnum="4" colname="4" />
            <colspec colnum="5" colname="5" />
            <tbody>
                <row>
                    <entry>协议名称</entry><entry namest="2" nameend="5">替换洗炼装备后的属性</entry>
                </row>
                <row>
                    <entry>呼叫方</entry>
                    <entry>应答方</entry>
                    <entry>函数名</entry>
                    <entry>请求参数说明</entry>
                    <entry>返回值格式说明</entry>
                </row>
                <row>
                    <entry>客户端</entry>
                    <entry>网关服务器</entry>
                    <entry>equip_refine_replace</entry>
                    <entry><informaltable>
                        <tgroup cols="3">
                            <colspec colnum="1" colname="1" />
                            <colspec colnum="2" colname="2" />
                            <colspec colnum="3" colname="3" />
                            <tbody>
                                <row><entry>参数</entry><entry>类型</entry><entry>说明</entry></row>
                                <row><entry>user_equip_id</entry><entry>uint</entry><entry>玩家装备ID, 内部唯一，查询或删除时用。</entry></row>
                                <row><entry>refine_attribute</entry><entry>Array(Array(attribute_id, refine_value, max_value), ...)</entry><entry>装备洗练后的属性和洗炼值列表。注:attribute_id在sysconfig['attribute_list'], 属性列表数值中。</entry></row>
                            </tbody>
                        </tgroup>
                    </informaltable></entry>
                    <entry><informaltable>
                        <tgroup cols="3">
                            <colspec colnum="1" colname="1" />
                            <colspec colnum="2" colname="2" />
                            <colspec colnum="3" colname="3" />
                            <tbody>
                                <row><entry>参数</entry><entry>类型</entry><entry>说明</entry></row>
                                <row>
                                    <entry>result</entry><entry>uint</entry><entry>状态。0：获取成功。其它见<link linkend="errorlist">错误代码列表</link>.</entry>
                                </row>
                                <row><entry>data</entry><entry>Array(user_equip_id, refine_attribute)</entry><entry>洗炼装备后的信息，具体参数值如下：</entry></row>
                                <row><entry>user_equip_id</entry><entry>uint</entry><entry>玩家装备ID, 内部唯一，查询或删除时用。</entry></row>
                                <row><entry>refine_attribute</entry><entry>Array(Array(attribute_id, attribute_value, max_value), ...)</entry><entry>装备洗练后的当前属性值。注:attribute_id在sysconfig['attribute_list'], 属性列表数值中。</entry></row>
                            </tbody>
                        </tgroup>
                    </informaltable></entry>
                </row>
                <row>
                    <entry>协议说明</entry><entry namest="2" nameend="5"></entry>
                </row>
            </tbody>
            </tgroup>
        </informaltable></para>
    </section>

    <section>
        <title>[装备碎片背包] 获取装备碎片列表信息 (已过期)</title>
        <para><informaltable>
            <tgroup cols="5">
            <colspec colnum="1" colname="1" />
            <colspec colnum="2" colname="2" />
            <colspec colnum="3" colname="3" />
            <colspec colnum="4" colname="4" />
            <colspec colnum="5" colname="5" />
            <tbody>
                <row>
                    <entry>协议名称</entry><entry namest="2" nameend="5">[已过期] 获取装备碎片列表信息</entry>
                </row>
                <row>
                    <entry>呼叫方</entry>
                    <entry>应答方</entry>
                    <entry>函数名</entry>
                    <entry>请求参数说明</entry>
                    <entry>返回值格式说明</entry>
                </row>
                <row>
                    <entry>客户端</entry>
                    <entry>网关服务器</entry>
                    <entry>equipshard_list</entry>
                    <entry><informaltable>
                        <tgroup cols="3">
                            <colspec colnum="1" colname="1" />
                            <colspec colnum="2" colname="2" />
                            <colspec colnum="3" colname="3" />
                            <tbody>
                                <row><entry>参数</entry><entry>类型</entry><entry>说明</entry></row>
                                <row><entry>index</entry><entry>int</entry><entry>获取第index页内容，从1开始。注 index=0时，表示获取全部内容</entry></row>
                            </tbody>
                        </tgroup>
                    </informaltable></entry>
                    <entry><informaltable>
                        <tgroup cols="3">
                            <colspec colnum="1" colname="1" />
                            <colspec colnum="2" colname="2" />
                            <colspec colnum="3" colname="3" />
                            <tbody>
                                <row><entry>参数</entry><entry>类型</entry><entry>说明</entry></row>
                                <row>
                                    <entry>result</entry><entry>uint</entry><entry>状态。0：获取成功。其它见<link linkend="errorlist">错误代码列表</link>.</entry>
                                </row>
                                <row><entry>data</entry><entry>Array(all, limit, Array(Array(user_equipshard_id, equipshard_id, quantity), ...))</entry><entry>装备碎片列表信息，具体参数值如下：</entry></row>
                                <row><entry>all</entry><entry>uint</entry><entry>玩家当前拥有装备碎片总数。</entry></row>
                                <row><entry>limit</entry><entry>uint</entry><entry>玩家的背包可拥有装备碎片上限数。</entry></row>
                                <row><entry>user_equipshard_id</entry><entry>uint</entry><entry>玩家装备碎片ID, 内部唯一，查询或删除时用。</entry></row>
                                <row><entry>equipshard_id</entry><entry>uint</entry><entry>装备碎片ID, 其它参数参见sysconfig['item']。</entry></row>
                                <row><entry>quantity</entry><entry>uint</entry><entry>拥有装备碎片数量。</entry></row>
                            </tbody>
                        </tgroup>
                    </informaltable></entry>
                </row>
                <row>
                    <entry>协议说明</entry><entry namest="2" nameend="5"></entry>
                </row>
            </tbody>
            </tgroup>
        </informaltable></para>
    </section>

    <section>
        <title>[装备碎片背包] 装备碎片合成</title>
        <para><informaltable>
            <tgroup cols="5">
            <colspec colnum="1" colname="1" />
            <colspec colnum="2" colname="2" />
            <colspec colnum="3" colname="3" />
            <colspec colnum="4" colname="4" />
            <colspec colnum="5" colname="5" />
            <tbody>
                <row>
                    <entry>协议名称</entry><entry namest="2" nameend="5">装备碎片合成</entry>
                </row>
                <row>
                    <entry>呼叫方</entry>
                    <entry>应答方</entry>
                    <entry>函数名</entry>
                    <entry>请求参数说明</entry>
                    <entry>返回值格式说明</entry>
                </row>
                <row>
                    <entry>客户端</entry>
                    <entry>网关服务器</entry>
                    <entry>equipshard_combine</entry>
                    <entry><informaltable>
                        <tgroup cols="3">
                            <colspec colnum="1" colname="1" />
                            <colspec colnum="2" colname="2" />
                            <colspec colnum="3" colname="3" />
                            <tbody>
                                <row><entry>参数</entry><entry>类型</entry><entry>说明</entry></row>
                                <row><entry>user_equipshard_id</entry><entry>int</entry><entry>要合成的玩家装备碎片ID</entry></row>
                            </tbody>
                        </tgroup>
                    </informaltable></entry>
                    <entry><informaltable>
                        <tgroup cols="3">
                            <colspec colnum="1" colname="1" />
                            <colspec colnum="2" colname="2" />
                            <colspec colnum="3" colname="3" />
                            <tbody>
                                <row><entry>参数</entry><entry>类型</entry><entry>说明</entry></row>
                                <row>
                                    <entry>result</entry><entry>uint</entry><entry>状态。0：获取成功。其它见<link linkend="errorlist">错误代码列表</link>.</entry>
                                </row>
                                <row><entry>data</entry><entry>Array(user_equip_id, equip_id)</entry><entry>合并后的equip信息</entry></row>
                            </tbody>
                        </tgroup>
                    </informaltable></entry>
                </row>
                <row>
                    <entry>协议说明</entry><entry namest="2" nameend="5"></entry>
                </row>
            </tbody>
            </tgroup>
        </informaltable></para>
    </section>

    <section>
        <title>[道具/装备/宝物背包] 物品出售</title>
        <para><informaltable>
            <tgroup cols="5">
            <colspec colnum="1" colname="1" />
            <colspec colnum="2" colname="2" />
            <colspec colnum="3" colname="3" />
            <colspec colnum="4" colname="4" />
            <colspec colnum="5" colname="5" />
            <tbody>
                <row>
                    <entry>协议名称</entry><entry namest="2" nameend="5">物品出售</entry>
                </row>
                <row>
                    <entry>呼叫方</entry>
                    <entry>应答方</entry>
                    <entry>函数名</entry>
                    <entry>请求参数说明</entry>
                    <entry>返回值格式说明</entry>
                </row>
                <row>
                    <entry>客户端</entry>
                    <entry>网关服务器</entry>
                    <entry>item_sell</entry>
                    <entry><informaltable>
                        <tgroup cols="3">
                            <colspec colnum="1" colname="1" />
                            <colspec colnum="2" colname="2" />
                            <colspec colnum="3" colname="3" />
                            <tbody>
                                <row><entry>参数</entry><entry>类型</entry><entry>说明</entry></row>
                                <row><entry>user_item_ids</entry><entry>Array(int, int ...)</entry><entry>要出售的物品user_item_id列表。</entry></row>
                                <row><entry>bag_type</entry><entry>int</entry><entry>背包类型。1：装备，5：道具，6：宝物.</entry></row>
                            </tbody>
                        </tgroup>
                    </informaltable></entry>
                    <entry><informaltable>
                        <tgroup cols="3">
                            <colspec colnum="1" colname="1" />
                            <colspec colnum="2" colname="2" />
                            <colspec colnum="3" colname="3" />
                            <tbody>
                                <row><entry>参数</entry><entry>类型</entry><entry>说明</entry></row>
                                <row>
                                    <entry>result</entry><entry>uint</entry><entry>状态。0：获取成功。其它见<link linkend="errorlist">错误代码列表</link>.</entry>
                                </row>
                                <row><entry>data</entry><entry>Array(golds)</entry><entry>玩家的金币信息</entry></row>
                                <row><entry>golds</entry><entry>uint</entry><entry>玩家当前拥有金币数。</entry></row>
                            </tbody>
                        </tgroup>
                    </informaltable></entry>
                </row>
                <row>
                    <entry>协议说明</entry><entry namest="2" nameend="5"></entry>
                </row>
            </tbody>
            </tgroup>
        </informaltable></para>
    </section>

    <section>
        <title>[玉魄背包] 获取玉魄列表信息</title>
        <para><informaltable>
            <tgroup cols="5">
            <colspec colnum="1" colname="1" />
            <colspec colnum="2" colname="2" />
            <colspec colnum="3" colname="3" />
            <colspec colnum="4" colname="4" />
            <colspec colnum="5" colname="5" />
            <tbody>
                <row>
                    <entry>协议名称</entry><entry namest="2" nameend="5">获取玉魄列表信息</entry>
                </row>
                <row>
                    <entry>呼叫方</entry>
                    <entry>应答方</entry>
                    <entry>函数名</entry>
                    <entry>请求参数说明</entry>
                    <entry>返回值格式说明</entry>
                </row>
                <row>
                    <entry>客户端</entry>
                    <entry>网关服务器</entry>
                    <entry>jade_list</entry>
                    <entry><informaltable>
                        <tgroup cols="3">
                            <colspec colnum="1" colname="1" />
                            <colspec colnum="2" colname="2" />
                            <colspec colnum="3" colname="3" />
                            <tbody>
                                <row><entry>参数</entry><entry>类型</entry><entry>说明</entry></row>
                                <row><entry>index</entry><entry>int</entry><entry>获取第index页内容，从1开始, 每页50条。注 index=0时，表示获取全部内容</entry></row>
                            </tbody>
                        </tgroup>
                    </informaltable></entry>
                    <entry><informaltable>
                        <tgroup cols="3">
                            <colspec colnum="1" colname="1" />
                            <colspec colnum="2" colname="2" />
                            <colspec colnum="3" colname="3" />
                            <tbody>
                                <row><entry>参数</entry><entry>类型</entry><entry>说明</entry></row>
                                <row>
                                    <entry>result</entry><entry>uint</entry><entry>状态。0：获取成功。其它见<link linkend="errorlist">错误代码列表</link>.</entry>
                                </row>
                                <row><entry>data</entry><entry>Array(all, limit, random_jade_level, Array(Array(user_jade_id, jade_id, level, exp, camp_id), ...))</entry><entry>玉魄列表信息，获得的先后顺序由user_jade_id从小到大判断，具体参数值如下：</entry></row>
                                <row><entry>all</entry><entry>uint</entry><entry>玩家当前拥有玉魄总数。</entry></row>
                                <row><entry>limit</entry><entry>uint</entry><entry>玩家的背包可拥有玉魄上限数。</entry></row>
                                <row><entry>random_jade_level</entry><entry>uint</entry><entry>鉴玉当前的等级, 共5个等级, 1-5分别为劣玉、凡玉、良玉、宝玉、神玉。</entry></row>
                                <row><entry>user_jade_id</entry><entry>uint</entry><entry>玩家玉魄ID, 内部唯一, 查询或删除时用。</entry></row>
                                <row><entry>jade_id</entry><entry>uint</entry><entry>玉魄ID, 其它参数参见sysconfig['item']。</entry></row>
                                <row><entry>level</entry><entry>uint</entry><entry>玉魄当前的等级。</entry></row>
                                <row><entry>exp</entry><entry>uint</entry><entry>玉魄当前的经验值。</entry></row>
                                <row><entry>camp_id</entry><entry>uint</entry><entry>玉魄当前所属的阵营ID。范围1-6。</entry></row>
                            </tbody>
                        </tgroup>
                    </informaltable></entry>
                </row>
                <row>
                    <entry>协议说明</entry><entry namest="2" nameend="5"></entry>
                </row>
            </tbody>
            </tgroup>
        </informaltable></para>
    </section>

    <section>
        <title>[玉魄背包] 鉴玉</title>
        <para><informaltable>
            <tgroup cols="5">
            <colspec colnum="1" colname="1" />
            <colspec colnum="2" colname="2" />
            <colspec colnum="3" colname="3" />
            <colspec colnum="4" colname="4" />
            <colspec colnum="5" colname="5" />
            <tbody>
                <row>
                    <entry>协议名称</entry><entry namest="2" nameend="5">鉴玉</entry>
                </row>
                <row>
                    <entry>呼叫方</entry>
                    <entry>应答方</entry>
                    <entry>函数名</entry>
                    <entry>请求参数说明</entry>
                    <entry>返回值格式说明</entry>
                </row>
                <row>
                    <entry>客户端</entry>
                    <entry>网关服务器</entry>
                    <entry>random_jade</entry>
                    <entry><informaltable>
                        <tgroup cols="3">
                            <colspec colnum="1" colname="1" />
                            <colspec colnum="2" colname="2" />
                            <colspec colnum="3" colname="3" />
                            <tbody>
                                <row><entry>参数</entry><entry>类型</entry><entry>说明</entry></row>
                                <row><entry>random_times</entry><entry>uint</entry><entry>鉴玉次数。1:鉴玉一次, 10:鉴玉10次。</entry></row>
                            </tbody>
                        </tgroup>
                    </informaltable></entry>
                    <entry><informaltable>
                        <tgroup cols="3">
                            <colspec colnum="1" colname="1" />
                            <colspec colnum="2" colname="2" />
                            <colspec colnum="3" colname="3" />
                            <tbody>
                                <row><entry>参数</entry><entry>类型</entry><entry>说明</entry></row>
                                <row>
                                    <entry>result</entry>
                                    <entry>uint</entry>
                                    <entry>状态。
                                        0：获取成功。其它见<link linkend="errorlist">错误代码列表</link>.</entry>
                                </row>
                                <row><entry>data</entry><entry>Array(golds, credits, random_jade_level, add_jade_list, extra_item_list)</entry><entry>玩家鉴玉后的详情。具体参数解释如下：</entry></row>
                                <row><entry>golds</entry><entry>uint</entry><entry>玩家剩余的金币数。</entry></row>
                                <row><entry>credits</entry><entry>uint</entry><entry>玩家剩余的钻石数。</entry></row>
                                <row><entry>random_jade_level</entry><entry>uint</entry><entry>鉴玉当前的等级, 共5个等级, 1-5分别为劣玉、凡玉、良玉、宝玉、神玉。</entry></row>
                                <row><entry>add_jade_list</entry><entry>Array(Array(user_jade_id, jade_type, jade_id, quatity), ...)</entry><entry>获得的玉魄列表。user_jade_id: 玩家玉魄ID，内部唯一，查询或删除时用。jade_id, uint, 玉魄ID. 具体属性见sysconfig['item']。</entry></row>
                                <row><entry>extra_item_list</entry><entry>Array(Array(user_item_id, item_type, item_id, quatity), ...)</entry><entry>鉴玉后额外掉落的道具信息列表。</entry></row>
                            </tbody>
                        </tgroup>
                    </informaltable></entry>
                </row>
                <row>
                    <entry>协议说明</entry><entry namest="2" nameend="5"></entry>
                </row>
            </tbody>
            </tgroup>
        </informaltable></para>
    </section>

    <section>
        <title>[玉魄背包] 召唤宝玉</title>
        <para><informaltable>
            <tgroup cols="5">
            <colspec colnum="1" colname="1" />
            <colspec colnum="2" colname="2" />
            <colspec colnum="3" colname="3" />
            <colspec colnum="4" colname="4" />
            <colspec colnum="5" colname="5" />
            <tbody>
                <row>
                    <entry>协议名称</entry><entry namest="2" nameend="5">召唤宝玉, 消耗一定货币或特定道具来直接将当前鉴玉等级提升到特定等级（暂定4级宝玉）的操作。</entry>
                </row>
                <row>
                    <entry>呼叫方</entry>
                    <entry>应答方</entry>
                    <entry>函数名</entry>
                    <entry>请求参数说明</entry>
                    <entry>返回值格式说明</entry>
                </row>
                <row>
                    <entry>客户端</entry>
                    <entry>网关服务器</entry>
                    <entry>upgrade_random_jade_level</entry>
                    <entry><informaltable>
                        <tgroup cols="3">
                            <colspec colnum="1" colname="1" />
                            <colspec colnum="2" colname="2" />
                            <colspec colnum="3" colname="3" />
                            <tbody>
                                <row><entry>参数</entry><entry>类型</entry><entry>说明</entry></row>
                            </tbody>
                        </tgroup>
                    </informaltable></entry>
                    <entry><informaltable>
                        <tgroup cols="3">
                            <colspec colnum="1" colname="1" />
                            <colspec colnum="2" colname="2" />
                            <colspec colnum="3" colname="3" />
                            <tbody>
                                <row><entry>参数</entry><entry>类型</entry><entry>说明</entry></row>
                                <row>
                                    <entry>result</entry>
                                    <entry>uint</entry>
                                    <entry>状态。
                                        0：获取成功。其它见<link linkend="errorlist">错误代码列表</link>.</entry>
                                </row>
                                <row><entry>data</entry><entry>Array(credits, random_jade_level, left_items, add_jade)</entry><entry>玩家召唤宝玉后的详情。具体参数解释如下：</entry></row>
                                <row><entry>credits</entry><entry>uint</entry><entry>玩家剩余的点卷数。</entry></row>
                                <row><entry>random_jade_level</entry><entry>uint</entry><entry>鉴玉当前的等级, 共5个等级, 1-5分别为劣玉、凡玉、良玉、宝玉、神玉。</entry></row>
                                <row><entry>left_items</entry><entry>Array(Array(user_item_id, item_type, item_id, quatity), ...)</entry><entry>召唤宝玉后玩家剩余的道具信息。</entry></row>
                                <row><entry>add_jade</entry><entry>Array(user_jade_id, jade_type, jade_id, quatity)</entry><entry>玩家获得的玉魄信息。user_jade_id: 玩家玉魄ID，内部唯一，查询或删除时用。jade_id, uint, 玉魄ID. 具体属性见sysconfig['item']。</entry></row>
                            </tbody>
                        </tgroup>
                    </informaltable></entry>
                </row>
                <row>
                    <entry>协议说明</entry><entry namest="2" nameend="5"></entry>
                </row>
            </tbody>
            </tgroup>
        </informaltable></para>
    </section>

    <section>
        <title>[玉魄背包] 升级玉魄</title>
        <para><informaltable>
            <tgroup cols="5">
            <colspec colnum="1" colname="1" />
            <colspec colnum="2" colname="2" />
            <colspec colnum="3" colname="3" />
            <colspec colnum="4" colname="4" />
            <colspec colnum="5" colname="5" />
            <tbody>
                <row>
                    <entry>协议名称</entry><entry namest="2" nameend="5">升级玉魄</entry>
                </row>
                <row>
                    <entry>呼叫方</entry>
                    <entry>应答方</entry>
                    <entry>函数名</entry>
                    <entry>请求参数说明</entry>
                    <entry>返回值格式说明</entry>
                </row>
                <row>
                    <entry>客户端</entry>
                    <entry>网关服务器</entry>
                    <entry>jade_strengthen</entry>
                    <entry><informaltable>
                        <tgroup cols="3">
                            <colspec colnum="1" colname="1" />
                            <colspec colnum="2" colname="2" />
                            <colspec colnum="3" colname="3" />
                            <tbody>
                                <row><entry>参数</entry><entry>类型</entry><entry>说明</entry></row>
                                <row><entry>user_jade_id</entry><entry>uint</entry><entry>玩家玉魄ID, 内部唯一，查询或删除时用。</entry></row>
                                <row><entry>jades_data</entry><entry>Array(user_jade_id, ...)</entry><entry>用于升级玉魄的其它玉魄。最大长度需要确认一下。</entry></row>
                            </tbody>
                        </tgroup>
                    </informaltable></entry>
                    <entry><informaltable>
                        <tgroup cols="3">
                            <colspec colnum="1" colname="1" />
                            <colspec colnum="2" colname="2" />
                            <colspec colnum="3" colname="3" />
                            <tbody>
                                <row><entry>参数</entry><entry>类型</entry><entry>说明</entry></row>
                                <row><entry>result</entry><entry>uint</entry><entry>状态。0：获取成功。其它见<link linkend="errorlist">错误代码列表</link>.</entry></row>
                                <row><entry>data</entry><entry>Array(user_jade_id, jade_id, level, exp)</entry><entry>升级玉魄后的信息，具体参数值如下：</entry></row>
                                <row><entry>user_jade_id</entry><entry>uint</entry><entry>玩家玉魄ID, 内部唯一，查询或删除时用。</entry></row>
                                <row><entry>jade_id</entry><entry>uint</entry><entry>玉魄ID,即道具ID。 其它参数参见sysconfig['item']。</entry></row>
                                <row><entry>level</entry><entry>uint</entry><entry>升级玉魄后的等级。</entry></row>
                                <row><entry>exp</entry><entry>uint</entry><entry>玉魄当前等级下的经验值。</entry></row>
                            </tbody>
                        </tgroup>
                    </informaltable></entry>
                </row>
                <row>
                    <entry>协议说明</entry><entry namest="2" nameend="5"></entry>
                </row>
            </tbody>
            </tgroup>
        </informaltable></para>
    </section>

    <section>
        <title>[定向礼包]定向礼包的使用</title>
        <para><informaltable>
            <tgroup cols="5">
            <colspec colnum="1" colname="1" />
            <colspec colnum="2" colname="2" />
            <colspec colnum="3" colname="3" />
            <colspec colnum="4" colname="4" />
            <colspec colnum="5" colname="5" />
            <tbody>
                <row>
                    <entry>协议名称</entry><entry namest="2" nameend="5">定向礼包的使用</entry>
                </row>
                <row>
                    <entry>呼叫方</entry>
                    <entry>应答方</entry>
                    <entry>函数名</entry>
                    <entry>请求参数说明</entry>
                    <entry>返回值格式说明</entry>
                </row>
                <row>
                    <entry>客户端</entry>
                    <entry>网关服务器</entry>
                    <entry>get_direct_package_reward</entry>
                    <entry><informaltable>
                        <tgroup cols="3">
                            <colspec colnum="1" colname="1" />
                            <colspec colnum="2" colname="2" />
                            <colspec colnum="3" colname="3" />
                            <tbody>
                                <row><entry>参数</entry><entry>类型</entry><entry>说明</entry></row>
                                <row><entry>package_item_id</entry><entry>uint</entry><entry>定向礼包itemID</entry></row>
                                <row><entry>item_id</entry><entry>uint</entry><entry>获取的itemID</entry></row>
                                <row><entry>item_num</entry><entry>uint</entry><entry>ItemNum</entry></row>
                            </tbody>
                        </tgroup>
                    </informaltable></entry>
                    <entry><informaltable>
                        <tgroup cols="3">
                            <colspec colnum="1" colname="1" />
                            <colspec colnum="2" colname="2" />
                            <colspec colnum="3" colname="3" />
                            <tbody>
                                <row><entry>参数</entry><entry>类型</entry><entry>说明</entry></row>
                                <row><entry>result</entry><entry>uint</entry><entry>状态。0：获取成功。其它见<link linkend="errorlist">错误代码列表</link>.</entry></row>
                                <row><entry>data</entry><entry>Array(Array(left_item), Array(add_items))</entry><entry>道具信息</entry></row>
                                <row><entry>left_item</entry><entry>Array(user_id, item_type, item_id, item_num)</entry><entry>使用剩余</entry></row>
                                <row><entry>add_items</entry><entry>Array(item_type, item_id, item_num)</entry><entry>新添加道具信息</entry></row>
                            </tbody>
                        </tgroup>
                    </informaltable></entry>
                </row>
                <row>
                    <entry>协议说明</entry><entry namest="2" nameend="5"></entry>
                </row>
            </tbody>
            </tgroup>
        </informaltable></para>
    </section>
    <section>
        <title>[改名卡]改名卡的使用</title>
        <para><informaltable>
            <tgroup cols="5">
            <colspec colnum="1" colname="1" />
            <colspec colnum="2" colname="2" />
            <colspec colnum="3" colname="3" />
            <colspec colnum="4" colname="4" />
            <colspec colnum="5" colname="5" />
            <tbody>
                <row>
                    <entry>协议名称</entry><entry namest="2" nameend="5">改名卡的使用</entry>
                </row>
                <row>
                    <entry>呼叫方</entry>
                    <entry>应答方</entry>
                    <entry>函数名</entry>
                    <entry>请求参数说明</entry>
                    <entry>返回值格式说明</entry>
                </row>
                <row>
                    <entry>客户端</entry>
                    <entry>网关服务器</entry>
                    <entry>use_named_card</entry>
                    <entry><informaltable>
                        <tgroup cols="3">
                            <colspec colnum="1" colname="1" />
                            <colspec colnum="2" colname="2" />
                            <colspec colnum="3" colname="3" />
                            <tbody>
                                <row><entry>参数</entry><entry>类型</entry><entry>说明</entry></row>
                                <row><entry>named_type</entry><entry>uint</entry><entry>修改方式0-card 1-money, 2-仙盟card，3-仙盟money</entry></row>
                                <row><entry>card_id</entry><entry>uint</entry><entry>改名卡id</entry></row>
                                <row><entry>new_name</entry><entry>string</entry><entry>新名字</entry></row>
                            </tbody>
                        </tgroup>
                    </informaltable></entry>
                    <entry><informaltable>
                        <tgroup cols="3">
                            <colspec colnum="1" colname="1" />
                            <colspec colnum="2" colname="2" />
                            <colspec colnum="3" colname="3" />
                            <tbody>
                                <row><entry>参数</entry><entry>类型</entry><entry>说明</entry></row>
                                <row><entry>result</entry><entry>uint</entry><entry>状态。0：获取成功。其它见<link linkend="errorlist">错误代码列表</link>.</entry></row>
                                <row><entry>left_item</entry><entry>Array(Array(item_user_id, item_type, item_id, item_num), left_credits)</entry><entry>剩余道具信息</entry></row>
                                <row><entry>left_credits</entry><entry>int</entry><entry>剩余钻石</entry></row>
                            </tbody>
                        </tgroup>
                    </informaltable></entry>
                </row>
                <row>
                    <entry>协议说明</entry><entry namest="2" nameend="5"></entry>
                </row>
            </tbody>
            </tgroup>
        </informaltable></para>
    </section>
</chapter>
